<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ecom.javacodings.merchandiser.access.NoticeManagerDAO">
<select id="NoticeList" parameterType="pageDTO" resultType="noticeDTO">
SELECT * FROM
(SELECT NOTICE_ID, REG_DATE, "LABEL", CONTENT,
ROW_NUMBER() over(ORDER BY REG_DATE DESC) as rr

FROM NOTICE
)
WHERE RR BETWEEN #{start} AND #{end}
</select>
<insert id="NoticeGenerate" parameterType="noticeDTO">

INSERT INTO NOTICE (NOTICE_ID, REG_DATE, "LABEL", CONTENT, AUTHOR_ID)
VALUES(#{notice_id}, SYSDATE, #{label}, #{content}, #{author_id})

</insert>

<select id="noticepage" parameterType="noticeDTO">
SELECT NOTICE_ID,REG_DATE,AUTHOR_ID,CONTENT,"LABEL" 
FROM NOTICE
WHERE NOTICE_ID=#{notice_id}
</select>

<delete id="deleteNotice" parameterType="noticeDTO">
delete NOTICE
WHERE NOTICE_ID =#{notice_id}
</delete>
<update id="updateNotice" parameterType="noticeDTO">
UPDATE NOTICE SET
"LABEL" = #{label}, CONTENT= #{content},REG_DATE=SYSDATE, AUTHOR_ID=#{author_id}
WHERE NOTICE_ID =#{notice_id}
</update>



</mapper>