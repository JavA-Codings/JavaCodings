<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ecom.javacodings.merchandiser.access.BannerManagerDAO">
<select id="bannermain" parameterType="pageDTO">
		SELECT *
		FROM
		(
			SELECT BANNER_ID, ITEM_ID, LABEL, "DESC", CATEGORY, IMAGE,
			ROW_NUMBER() OVER(ORDER BY REG_DATE DESC) AS RN
			FROM BANNERS
			WHERE CATEGORY='MAIN'
	  	)
		WHERE RN BETWEEN #{start} AND #{end}
	</select>
<select id="bannerevent" parameterType="pageDTO">
		SELECT *
		FROM
		(
			SELECT BANNER_ID, ITEM_ID, LABEL, "DESC", CATEGORY, IMAGE,
			ROW_NUMBER() OVER(ORDER BY REG_DATE DESC) AS RN
			FROM BANNERS
			WHERE CATEGORY='EVENT'
	  	)
		WHERE RN BETWEEN #{start} AND #{end}
	</select>
	<select id="listMain" resultType="bannerDTO" parameterType="int">
		SELECT *
		FROM (
				 SELECT LABEL, "DESC", IMAGE, ROW_NUMBER() over (ORDER BY REG_DATE) AS RN
				 FROM  BANNERS
				 WHERE CATEGORY='MAIN'
				 ORDER BY REG_DATE
			 )
		WHERE RN BETWEEN 1 AND #{value}
	</select>

	<select id="listEvent" resultType="bannerDTO">
		SELECT *
		FROM (
				 SELECT LABEL, "DESC", IMAGE, ROW_NUMBER() over (ORDER BY REG_DATE) AS RN
				 FROM  BANNERS
				 WHERE CATEGORY='EVENT'
				 ORDER BY REG_DATE
			 )
		WHERE RN BETWEEN 1 AND 3
	</select>
</mapper>